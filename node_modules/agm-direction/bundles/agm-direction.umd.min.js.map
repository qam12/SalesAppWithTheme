{"version":3,"sources":["agm-direction.umd.js"],"names":["global","factory","exports","module","require","define","amd","ng","angularLibraryStarter","core","rxjs","this","extendStatics","GoogleMapsScriptProtocol","MapsAPILoader","decorators","type","Injectable","GoogleMapsAPIWrapper","_loader","_zone","_this","_map","Promise","resolve","_mapResolver","prototype","createMap","el","mapOptions","runOutsideAngular","load","then","map","google","maps","Map","setMapOptions","options","m","setOptions","createMarker","addToMap","Marker","createInfoWindow","InfoWindow","createCircle","Circle","createPolyline","getNativeMap","line","Polyline","setMap","createPolygon","polygon","Polygon","createDataLayer","data","Data","containsLocation","latLng","geometry","poly","subscribeToMapEvent","eventName","Observable","observer","addListener","arg","run","next","clearInstanceListeners","event","setCenter","getZoom","getBounds","getMapTypeId","setZoom","zoom","getCenter","panTo","panBy","x","y","fitBounds","panToBounds","triggerMapEvent","trigger","ctorParameters","NgZone","WindowRef","getNativeWindow","window","DocumentRef","getNativeDocument","document","__extends","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","create","LAZY_MAPS_API_CONFIG","InjectionToken","AgmDirection","_super","LazyMapsAPILoader","config","w","call","_SCRIPT_ID","callbackName","_config","_windowRef","_documentRef","_scriptLoadingPromise","scriptOnPage","getElementById","_assignScriptLoadingPromise","script","createElement","async","defer","id","src","_getScriptSrc","body","appendChild","scriptElem","reject","onerror","error","protocol","HTTPS","AUTO","HTTP","hostAndPath","queryParams","v","apiVersion","callback","key","apiKey","client","clientId","channel","libraries","region","language","keys","filter","k","isArray","length","i","value","join","entry","undefined","Optional","Inject","args","gmapsApi","travelMode","transitOptions","drivingOptions","waypoints","optimizeWaypoints","provideRouteAlternatives","avoidHighways","avoidTolls","visible","onChange","EventEmitter","onResponse","sendInfoWindow","directionsService","directionsDisplay","waypointsMarker","isFirstChange","ngOnInit","directionDraw","ngOnChanges","obj","renderOptions","firstChange","originMarker","destinationMarker","forEach","setPanel","e","DirectionsRenderer","emit","getDirections","DirectionsService","panel","renderRoute","setDirections","route","origin","destination","response","status","markerOptions","clearListeners","err","console","_route_1","routes","legs","position","start_location","setMarker","start_address","end_location","end_address","waypoint","index","via_waypoints","push","marker","markerOpts","content","infoWindow","infowindoContent","setContent","open","Directive","selector","propDecorators","Input","Output","AgmDirectionModule","forRoot","ngModule","NgModule","imports","declarations","ɵa","defineProperty"],"mappings":"CAAC,SAAUA,OAAQC,SACI,iBAAZC,SAA0C,oBAAXC,OAAyBF,QAAQC,QAASE,QAAQ,iBAAkBA,QAAQ,SAChG,mBAAXC,QAAyBA,OAAOC,IAAMD,OAAO,gBAAiB,CAAC,UAAW,gBAAiB,QAASJ,SAC1GA,SAASD,OAAOO,GAAKP,OAAOO,IAAM,GAAIP,OAAOO,GAAGC,sBAAwB,IAAIR,OAAOO,GAAGE,KAAKT,OAAOU,MAHvG,CAIEC,KAAM,SAAWT,QAAQO,KAAKC,MAAQ,aAEpC,IAyMQE,cASJC,yBAlNAC,cAA+B,WAC/B,SAASA,iBAKT,OAHAA,cAAcC,WAAa,CACvB,CAAEC,KAAMP,KAAKQ,aAEVH,cANuB,GAa9BI,qBAAsC,WACtC,SAASA,qBAAqBC,QAASC,OACnC,IAAIC,MAAQV,KACZA,KAAKQ,QAAUA,QACfR,KAAKS,MAAQA,MACbT,KAAKW,KACD,IAAIC,QAAQ,SAAUC,SAAWH,MAAMI,aAAeD,UAqK9D,OAnKAN,qBAAqBQ,UAAUC,UAAY,SAAUC,GAAIC,YACrD,IAAIR,MAAQV,KACZ,OAAOA,KAAKS,MAAMU,kBAAkB,WAChC,OAAOT,MAAMF,QAAQY,OAAOC,KAAK,WAC7B,IAAIC,IAAM,IAAIC,OAAOC,KAAKC,IAAIR,GAAIC,YAClCR,MAAMI,aAAaQ,UAK/Bf,qBAAqBQ,UAAUW,cAAgB,SAAUC,SACrD3B,KAAKW,KAAKU,KAAK,SAAUO,GAAKA,EAAEC,WAAWF,YAQ/CpB,qBAAqBQ,UAAUe,aAG/B,SAAUH,QAASI,UAGf,YAFgB,IAAZJ,UAAsBA,QAAU,SACnB,IAAbI,WAAuBA,UAAW,GAC/B/B,KAAKW,KAAKU,KAAK,SAAUC,KAI5B,OAHIS,WACAJ,QAAQL,IAAMA,KAEX,IAAIC,OAAOC,KAAKQ,OAAOL,YAGtCpB,qBAAqBQ,UAAUkB,iBAAmB,SAAUN,SACxD,OAAO3B,KAAKW,KAAKU,KAAK,WAAc,OAAO,IAAIE,OAAOC,KAAKU,WAAWP,YAQ1EpB,qBAAqBQ,UAAUoB,aAG/B,SAAUR,SACN,OAAO3B,KAAKW,KAAKU,KAAK,SAAUC,KAE5B,OADAK,QAAQL,IAAMA,IACP,IAAIC,OAAOC,KAAKY,OAAOT,YAGtCpB,qBAAqBQ,UAAUsB,eAAiB,SAAUV,SACtD,OAAO3B,KAAKsC,eAAejB,KAAK,SAAUC,KACtC,IAAIiB,KAAO,IAAIhB,OAAOC,KAAKgB,SAASb,SAEpC,OADAY,KAAKE,OAAOnB,KACLiB,QAGfhC,qBAAqBQ,UAAU2B,cAAgB,SAAUf,SACrD,OAAO3B,KAAKsC,eAAejB,KAAK,SAAUC,KACtC,IAAIqB,QAAU,IAAIpB,OAAOC,KAAKoB,QAAQjB,SAEtC,OADAgB,QAAQF,OAAOnB,KACRqB,WASfpC,qBAAqBQ,UAAU8B,gBAG/B,SAAUlB,SACN,OAAO3B,KAAKW,KAAKU,KAAK,SAAUO,GAC5B,IAAIkB,KAAO,IAAIvB,OAAOC,KAAKuB,KAAKpB,SAEhC,OADAmB,KAAKL,OAAOb,GACLkB,QASfvC,qBAAqBQ,UAAUiC,iBAG/B,SAAUC,OAAQN,SACd,OAAOpB,OAAOC,KAAK0B,SAASC,KAAKH,iBAAiBC,OAAQN,UAE9DpC,qBAAqBQ,UAAUqC,oBAAsB,SAAUC,WAC3D,IAAI3C,MAAQV,KACZ,OAAO,IAAID,KAAKuD,WAAW,SAAUC,UACjC7C,MAAMC,KAAKU,KAAK,SAAUO,GACtBA,EAAE4B,YAAYH,UAAW,SAAUI,KAAO/C,MAAMD,MAAMiD,IAAI,WAAc,OAAOH,SAASI,KAAKF,cAIzGlD,qBAAqBQ,UAAU6C,uBAAyB,WACpD5D,KAAKW,KAAKU,KAAK,SAAUC,KACrBC,OAAOC,KAAKqC,MAAMD,uBAAuBtC,QAGjDf,qBAAqBQ,UAAU+C,UAAY,SAAUb,QACjD,OAAOjD,KAAKW,KAAKU,KAAK,SAAUC,KAAO,OAAOA,IAAIwC,UAAUb,WAEhE1C,qBAAqBQ,UAAUgD,QAAU,WAAc,OAAO/D,KAAKW,KAAKU,KAAK,SAAUC,KAAO,OAAOA,IAAIyC,aACzGxD,qBAAqBQ,UAAUiD,UAAY,WACvC,OAAOhE,KAAKW,KAAKU,KAAK,SAAUC,KAAO,OAAOA,IAAI0C,eAEtDzD,qBAAqBQ,UAAUkD,aAAe,WAC1C,OAAOjE,KAAKW,KAAKU,KAAK,SAAUC,KAAO,OAAOA,IAAI2C,kBAEtD1D,qBAAqBQ,UAAUmD,QAAU,SAAUC,MAC/C,OAAOnE,KAAKW,KAAKU,KAAK,SAAUC,KAAO,OAAOA,IAAI4C,QAAQC,SAE9D5D,qBAAqBQ,UAAUqD,UAAY,WACvC,OAAOpE,KAAKW,KAAKU,KAAK,SAAUC,KAAO,OAAOA,IAAI8C,eAEtD7D,qBAAqBQ,UAAUsD,MAAQ,SAAUpB,QAC7C,OAAOjD,KAAKW,KAAKU,KAAK,SAAUC,KAAO,OAAOA,IAAI+C,MAAMpB,WAE5D1C,qBAAqBQ,UAAUuD,MAAQ,SAAUC,EAAGC,GAChD,OAAOxE,KAAKW,KAAKU,KAAK,SAAUC,KAAO,OAAOA,IAAIgD,MAAMC,EAAGC,MAE/DjE,qBAAqBQ,UAAU0D,UAAY,SAAUxB,QACjD,OAAOjD,KAAKW,KAAKU,KAAK,SAAUC,KAAO,OAAOA,IAAImD,UAAUxB,WAEhE1C,qBAAqBQ,UAAU2D,YAAc,SAAUzB,QACnD,OAAOjD,KAAKW,KAAKU,KAAK,SAAUC,KAAO,OAAOA,IAAIoD,YAAYzB,WAQlE1C,qBAAqBQ,UAAUuB,aAG/B,WAAc,OAAOtC,KAAKW,MAO1BJ,qBAAqBQ,UAAU4D,gBAG/B,SAAUtB,WACN,OAAOrD,KAAKW,KAAKU,KAAK,SAAUO,GAAK,OAAOL,OAAOC,KAAKqC,MAAMe,QAAQhD,EAAGyB,cAE7E9C,qBAAqBH,WAAa,CAC9B,CAAEC,KAAMP,KAAKQ,aAGjBC,qBAAqBsE,eAAiB,WAAc,MAAO,CACvD,CAAExE,KAAMF,eACR,CAAEE,KAAMP,KAAKgF,UAEVvE,qBA3K8B,GA8KrCwE,UAA2B,WAC3B,SAASA,aAGT,OADAA,UAAUhE,UAAUiE,gBAAkB,WAAc,OAAOC,QACpDF,UAJmB,GAM1BG,YAA6B,WAC7B,SAASA,eAGT,OADAA,YAAYnE,UAAUoE,kBAAoB,WAAc,OAAOC,UACxDF,YAJqB,GAO5BG,WACIpF,cAAgBqF,OAAOC,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIC,KAAKD,EAAOA,EAAEE,eAAeD,KAAIF,EAAEE,GAAKD,EAAEC,KAClE,SAAUF,EAAGC,GAEhB,SAASG,KAAO9F,KAAK+F,YAAcL,EADnCzF,cAAcyF,EAAGC,GAEjBD,EAAE3E,UAAkB,OAAN4E,EAAaL,OAAOU,OAAOL,IAAMG,GAAG/E,UAAY4E,EAAE5E,UAAW,IAAI+E,OAIvF,SAAW5F,0BACPA,yBAAyBA,yBAA+B,KAAI,GAAK,OACjEA,yBAAyBA,yBAAgC,MAAI,GAAK,QAClEA,yBAAyBA,yBAA+B,KAAI,GAAK,OAHrE,CAIGA,2BAA6BA,yBAA2B,KAK3D,IAAI+F,qBAAuB,IAAInG,KAAKoG,eAAe,4CAqH/CC,cApHmC,SAAUC,QAE7C,SAASC,kBAAkBC,OAAQC,EAAGb,QACnB,IAAXY,SAAqBA,OAAS,MAClC,IAAI5F,MAAQ0F,OAAOI,KAAKxG,OAASA,KAMjC,OALAU,MAAM+F,WAAa,yBACnB/F,MAAMgG,aAAe,uBACrBhG,MAAMiG,QAAUL,QAAU,GAC1B5F,MAAMkG,WAAaL,EACnB7F,MAAMmG,aAAenB,EACdhF,MATX2E,UAAUgB,kBAAmBD,QAW7BC,kBAAkBtF,UAAUK,KAAO,WAC/B,IAAI6D,OAASjF,KAAK4G,WAAW5B,kBAC7B,GAAIC,OAAO1D,QAAU0D,OAAO1D,OAAOC,KAE/B,OAAOZ,QAAQC,UAEnB,GAAIb,KAAK8G,sBACL,OAAO9G,KAAK8G,sBAGhB,IAAIC,aAAe/G,KAAK6G,aAAa1B,oBAAoB6B,eAAehH,KAAKyG,YAC7E,GAAIM,aAEA,OADA/G,KAAKiH,4BAA4BF,cAC1B/G,KAAK8G,sBAEhB,IAAII,OAASlH,KAAK6G,aAAa1B,oBAAoBgC,cAAc,UAQjE,OAPAD,OAAO7G,KAAO,kBACd6G,OAAOE,OAAQ,EACfF,OAAOG,OAAQ,EACfH,OAAOI,GAAKtH,KAAKyG,WACjBS,OAAOK,IAAMvH,KAAKwH,cAAcxH,KAAK0G,cACrC1G,KAAKiH,4BAA4BC,QACjClH,KAAK6G,aAAa1B,oBAAoBsC,KAAKC,YAAYR,QAChDlH,KAAK8G,uBAEhBT,kBAAkBtF,UAAUkG,4BAA8B,SAAUU,YAChE,IAAIjH,MAAQV,KACZA,KAAK8G,sBAAwB,IAAIlG,QAAQ,SAAUC,QAAS+G,QACxDlH,MAAMkG,WAAW5B,kBAAkBtE,MAAMgG,cAAgB,WACrD7F,WAEJ8G,WAAWE,QAAU,SAAUC,OAC3BF,OAAOE,WAInBzB,kBAAkBtF,UAAUyG,cAAgB,SAAUd,cAClD,IACIqB,SACJ,OAFoB/H,KAAK2G,SAAW3G,KAAK2G,QAAQoB,UAAa7H,yBAAyB8H,OAGnF,KAAK9H,yBAAyB+H,KAC1BF,SAAW,GACX,MACJ,KAAK7H,yBAAyBgI,KAC1BH,SAAW,QACX,MACJ,KAAK7H,yBAAyB8H,MAC1BD,SAAW,SAGnB,IAAII,YAAcnI,KAAK2G,QAAQwB,aAAe,kCAC1CC,YAAc,CACdC,EAAGrI,KAAK2G,QAAQ2B,YAAc,IAC9BC,SAAU7B,aACV8B,IAAKxI,KAAK2G,QAAQ8B,OAClBC,OAAQ1I,KAAK2G,QAAQgC,SACrBC,QAAS5I,KAAK2G,QAAQiC,QACtBC,UAAW7I,KAAK2G,QAAQkC,UACxBC,OAAQ9I,KAAK2G,QAAQmC,OACrBC,SAAU/I,KAAK2G,QAAQoC,UAqB3B,OAAOhB,SAAW,KAAOI,YAAc,IAnB1B7C,OAAO0D,KAAKZ,aACpBa,OAAO,SAAUC,GAAK,OAAyB,MAAlBd,YAAYc,KACzCD,OAAO,SAAUC,GAElB,OAAQzD,MAAM0D,QAAQf,YAAYc,KAC7BzD,MAAM0D,QAAQf,YAAYc,KAA+B,EAAxBd,YAAYc,GAAGE,SAEpD9H,IAAI,SAAU4H,GAEf,IAAIG,EAAIjB,YAAYc,GACpB,OAAIzD,MAAM0D,QAAQE,GACP,CAAEb,IAAKU,EAAGI,MAAOD,EAAEE,KAAK,MAE5B,CAAEf,IAAKU,EAAGI,MAAOlB,YAAYc,MAEnC5H,IAAI,SAAUkI,OACf,OAAOA,MAAMhB,IAAM,IAAMgB,MAAMF,QAE9BC,KAAK,MAGdlD,kBAAkBjG,WAAa,CAC3B,CAAEC,KAAMP,KAAKQ,aAGjB+F,kBAAkBxB,eAAiB,WAAc,MAAO,CACpD,CAAExE,UAAMoJ,EAAWrJ,WAAY,CAAC,CAAEC,KAAMP,KAAK4J,UAAY,CAAErJ,KAAMP,KAAK6J,OAAQC,KAAM,CAAC3D,yBACrF,CAAE5F,KAAM0E,WACR,CAAE1E,KAAM6E,eArGsB,CAwGpC/E,eAYgC,WAC9B,SAASgG,aAAa0D,UAClB7J,KAAK6J,SAAWA,SAChB7J,KAAK8J,WAAa,UAClB9J,KAAK+J,oBAAiBN,EACtBzJ,KAAKgK,oBAAiBP,EACtBzJ,KAAKiK,UAAY,GACjBjK,KAAKkK,mBAAoB,EACzBlK,KAAKmK,0BAA2B,EAChCnK,KAAKoK,eAAgB,EACrBpK,KAAKqK,YAAa,EAClBrK,KAAKsK,SAAU,EAEftK,KAAKuK,SAAW,IAAIzK,KAAK0K,aAEzBxK,KAAKyK,WAAa,IAAI3K,KAAK0K,aAC3BxK,KAAK0K,eAAiB,IAAI5K,KAAK0K,aAC/BxK,KAAK2K,uBAAoBlB,EACzBzJ,KAAK4K,uBAAoBnB,EACzBzJ,KAAK6K,gBAAkB,GACvB7K,KAAK8K,eAAgB,EAsPzB,OAjPA3E,aAAapF,UAAUgK,SAGvB,YACyB,IAAjB/K,KAAKsK,SACLtK,KAAKgL,iBAOb7E,aAAapF,UAAUkK,YAIvB,SAAUC,KAIN,GAAKlL,KAAKsK,QAaL,CACD,GAAItK,KAAK8K,cAQL,YAJsC,IAA3B9K,KAAK4K,mBACZ5K,KAAKgL,qBAEThL,KAAK8K,eAAgB,QAMQ,IAAtBI,IAAIC,gBAC2B,IAAlCD,IAAIC,cAAcC,mBACe,IAAtBpL,KAAKqL,eACZrL,KAAKqL,aAAa5I,OAAO,MACzBzC,KAAKsL,kBAAkB7I,OAAO,MAC9BzC,KAAK6K,gBAAgBU,QAAQ,SAAUhF,GAAK,OAAOA,EAAE9D,OAAO,SAEhEzC,KAAK4K,kBAAkBY,SAAS,MAChCxL,KAAK4K,kBAAkBnI,OAAO,MAC9BzC,KAAK4K,uBAAoBnB,GAGjCzJ,KAAKgL,qBAtCL,SACqC,IAAtBhL,KAAKqL,eACZrL,KAAKqL,aAAa5I,OAAO,MACzBzC,KAAKsL,kBAAkB7I,OAAO,MAC9BzC,KAAK6K,gBAAgBU,QAAQ,SAAUhF,GAAK,OAAOA,EAAE9D,OAAO,SAEhEzC,KAAK4K,kBAAkBY,SAAS,MAChCxL,KAAK4K,kBAAkBnI,OAAO,MAC9BzC,KAAK4K,uBAAoBnB,EAE7B,MAAwBgC,MAmChCtF,aAAapF,UAAUiK,cAIvB,WACI,IAAItK,MAAQV,KACZA,KAAK6J,SAASvH,eAAejB,KAAK,SAAUC,UACD,IAA5BZ,MAAMkK,oBACblK,MAAMkK,kBAAoB,IAAIrJ,OAAOC,KAAKkK,mBAAmBhL,MAAMyK,eACnEzK,MAAMkK,kBAAkBnI,OAAOnB,KAC/BZ,MAAMkK,kBAAkBpH,YAAY,qBAAsB,WACtD9C,MAAM6J,SAASoB,KAAKjL,MAAMkK,kBAAkBgB,yBAGb,IAA5BlL,MAAMiK,oBACbjK,MAAMiK,kBAAoB,IAAIpJ,OAAOC,KAAKqK,wBAEnB,IAAhBnL,MAAMoL,MACbpL,MAAMkK,kBAAkBY,SAAS,MAGjC9K,MAAMkK,kBAAkBY,SAAS9K,MAAMoL,OAGV,iBAAtBpL,MAAMqL,aAAkD,OAAtBrL,MAAMqL,aAC/CrL,MAAMkK,kBAAkBoB,cAActL,MAAMqL,aAC5CrL,MAAMqL,YAAc,MAKpBrL,MAAMiK,kBAAkBsB,MAAM,CAC1BC,OAAQxL,MAAMwL,OACdC,YAAazL,MAAMyL,YACnBrC,WAAYpJ,MAAMoJ,WAClBC,eAAgBrJ,MAAMqJ,eACtBC,eAAgBtJ,MAAMsJ,eACtBC,UAAWvJ,MAAMuJ,UACjBC,kBAAmBxJ,MAAMwJ,kBACzBC,yBAA0BzJ,MAAMyJ,yBAChCC,cAAe1J,MAAM0J,cACrBC,WAAY3J,MAAM2J,YACnB,SAAU+B,SAAUC,QAEnB,GADA3L,MAAM+J,WAAWkB,KAAKS,UACP,OAAXC,SACA3L,MAAMkK,kBAAkBoB,cAAcI,eAMH,IAAxB1L,MAAM4L,eAA+B,CAE5C,SACsC,IAAvB5L,MAAM2K,eACb9J,OAAOC,KAAKqC,MAAM0I,eAAe7L,MAAM2K,aAAc,SACrD3K,MAAM2K,aAAa5I,OAAO,YAES,IAA5B/B,MAAM4K,oBACb/J,OAAOC,KAAKqC,MAAM0I,eAAe7L,MAAM4K,kBAAmB,SAC1D5K,MAAM4K,kBAAkB7I,OAAO,OAEnC/B,MAAMmK,gBAAgBU,QAAQ,SAAUhF,QACnB,IAANA,IACPhF,OAAOC,KAAKqC,MAAM0I,eAAehG,EAAG,SACpCA,EAAE9D,OAAO,SAIrB,MAAwB+J,KACpBC,QAAQ3E,MAAM,+BAAgC0E,KAGlD,IAAqBE,SAAWN,SAASO,OAAO,GAAGC,KAAK,GACxD,SAE8C,IAA/BlM,MAAM4L,cAAcJ,SAC3BxL,MAAM4L,cAAcJ,OAAO5K,IAAMA,IACjCZ,MAAM4L,cAAcJ,OAAOW,SAAWH,SAASI,eAC/CpM,MAAM2K,aAAe3K,MAAMqM,UAAUzL,IAAKZ,MAAM2K,aAAc3K,MAAM4L,cAAcJ,OAAQQ,SAASM,qBAGxD,IAApCtM,MAAM4L,cAAcH,cAC3BzL,MAAM4L,cAAcH,YAAY7K,IAAMA,IACtCZ,MAAM4L,cAAcH,YAAYU,SAAWH,SAASO,aACpDvM,MAAM4K,kBAAoB5K,MAAMqM,UAAUzL,IAAKZ,MAAM4K,kBAAmB5K,MAAM4L,cAAcH,YAAaO,SAASQ,mBAGzE,IAAlCxM,MAAM4L,cAAcrC,WAC3BvJ,MAAMuJ,UAAUsB,QAAQ,SAAU4B,SAAUC,OAEnC3H,MAAM0D,QAAQzI,MAAM4L,cAAcrC,YAMnCvJ,MAAM4L,cAAcrC,UAAUmD,OAAO9L,IAAMA,IAC3CZ,MAAM4L,cAAcrC,UAAUmD,OAAOP,SAAWH,SAASW,cAAcD,OACvE1M,MAAMmK,gBAAgByC,KAAK5M,MAAMqM,UAAUzL,IAAK6L,SAAUzM,MAAM4L,cAAcrC,UAAUmD,OAAQV,SAASW,cAAcD,WAPvH1M,MAAM4L,cAAcrC,UAAU3I,IAAMA,IACpCZ,MAAM4L,cAAcrC,UAAU4C,SAAWH,SAASW,cAAcD,OAChE1M,MAAMmK,gBAAgByC,KAAK5M,MAAMqM,UAAUzL,IAAK6L,SAAUzM,MAAM4L,cAAcrC,UAAWyC,SAASW,cAAcD,YAUhI,MAAwBZ,KACpBC,QAAQ3E,MAAM,uBAAwB0E,YAiBlErG,aAAapF,UAAUgM,UASvB,SAAUzL,IAAKiM,OAAQC,WAAYC,SAC/B,IAAI/M,MAAQV,KAWZ,YAV+B,IAApBA,KAAK0N,aACZ1N,KAAK0N,WAAa,IAAInM,OAAOC,KAAKU,WAAW,IAC7ClC,KAAK0K,eAAeiB,KAAK3L,KAAK0N,cAElCH,OAAS,IAAIhM,OAAOC,KAAKQ,OAAOwL,aACzBhK,YAAY,QAAS,WACxB,IAAqBmK,sBAAoD,IAA1BH,WAAWE,WAA6BD,QAAUD,WAAWE,WAC5GhN,MAAMgN,WAAWE,WAAWD,kBAC5BjN,MAAMgN,WAAWG,KAAKvM,IAAKiM,UAExBA,QAEXpH,aAAa/F,WAAa,CACtB,CAAEC,KAAMP,KAAKgO,UAAWlE,KAAM,CAAC,CACnBmE,SAAU,oBAI1B5H,aAAatB,eAAiB,WAAc,MAAO,CAC/C,CAAExE,KAAME,wBAEZ4F,aAAa6H,eAAiB,CAC1B9B,OAAU,CAAC,CAAE7L,KAAMP,KAAKmO,QACxB9B,YAAe,CAAC,CAAE9L,KAAMP,KAAKmO,QAC7BnE,WAAc,CAAC,CAAEzJ,KAAMP,KAAKmO,QAC5BlE,eAAkB,CAAC,CAAE1J,KAAMP,KAAKmO,QAChCjE,eAAkB,CAAC,CAAE3J,KAAMP,KAAKmO,QAChChE,UAAa,CAAC,CAAE5J,KAAMP,KAAKmO,QAC3B/D,kBAAqB,CAAC,CAAE7J,KAAMP,KAAKmO,QACnC9D,yBAA4B,CAAC,CAAE9J,KAAMP,KAAKmO,QAC1C7D,cAAiB,CAAC,CAAE/J,KAAMP,KAAKmO,QAC/B5D,WAAc,CAAC,CAAEhK,KAAMP,KAAKmO,QAC5B9C,cAAiB,CAAC,CAAE9K,KAAMP,KAAKmO,QAC/B3D,QAAW,CAAC,CAAEjK,KAAMP,KAAKmO,QACzBnC,MAAS,CAAC,CAAEzL,KAAMP,KAAKmO,QACvB3B,cAAiB,CAAC,CAAEjM,KAAMP,KAAKmO,QAC/BP,WAAc,CAAC,CAAErN,KAAMP,KAAKmO,QAC5BlC,YAAe,CAAC,CAAE1L,KAAMP,KAAKmO,QAC7B1D,SAAY,CAAC,CAAElK,KAAMP,KAAKoO,SAC1BzD,WAAc,CAAC,CAAEpK,KAAMP,KAAKoO,SAC5BxD,eAAkB,CAAC,CAAErK,KAAMP,KAAKoO,UAE7B/H,aA1QsB,IAiR7BgI,mBAAoC,WACpC,SAASA,sBAwBT,OAnBAA,mBAAmBC,QAGnB,WACI,MAAO,CACHC,SAAUF,qBAGlBA,mBAAmB/N,WAAa,CAC5B,CAAEC,KAAMP,KAAKwO,SAAU1E,KAAM,CAAC,CAClB2E,QAAS,GACTC,aAAc,CACVrI,cAEJ5G,QAAS,CACL4G,kBAIbgI,mBAzB4B,GA4BvC5O,QAAQ4O,mBAAqBA,mBAC7B5O,QAAQkP,GAAKtI,aAEbb,OAAOoJ,eAAenP,QAAS,aAAc,CAAE+J,OAAO","file":"agm-direction.umd.min.js.map","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('rxjs')) :\n    typeof define === 'function' && define.amd ? define('agm-direction', ['exports', '@angular/core', 'rxjs'], factory) :\n    (factory((global.ng = global.ng || {}, global.ng.angularLibraryStarter = {}),global.ng.core,global.rxjs));\n}(this, (function (exports,core,rxjs) { 'use strict';\n\n    var MapsAPILoader = /** @class */ (function () {\n        function MapsAPILoader() {\n        }\n        MapsAPILoader.decorators = [\n            { type: core.Injectable },\n        ];\n        return MapsAPILoader;\n    }());\n\n    /**\n     * Wrapper class that handles the communication with the Google Maps Javascript\n     * API v3\n     */\n    var GoogleMapsAPIWrapper = /** @class */ (function () {\n        function GoogleMapsAPIWrapper(_loader, _zone) {\n            var _this = this;\n            this._loader = _loader;\n            this._zone = _zone;\n            this._map =\n                new Promise(function (resolve) { _this._mapResolver = resolve; });\n        }\n        GoogleMapsAPIWrapper.prototype.createMap = function (el, mapOptions) {\n            var _this = this;\n            return this._zone.runOutsideAngular(function () {\n                return _this._loader.load().then(function () {\n                    var map = new google.maps.Map(el, mapOptions);\n                    _this._mapResolver(map);\n                    return;\n                });\n            });\n        };\n        GoogleMapsAPIWrapper.prototype.setMapOptions = function (options) {\n            this._map.then(function (m) { m.setOptions(options); });\n        };\n        /**\n         * Creates a google map marker with the map context\n         */\n        /**\n           * Creates a google map marker with the map context\n           */\n        GoogleMapsAPIWrapper.prototype.createMarker = /**\n           * Creates a google map marker with the map context\n           */\n        function (options, addToMap) {\n            if (options === void 0) { options = {}; }\n            if (addToMap === void 0) { addToMap = true; }\n            return this._map.then(function (map) {\n                if (addToMap) {\n                    options.map = map;\n                }\n                return new google.maps.Marker(options);\n            });\n        };\n        GoogleMapsAPIWrapper.prototype.createInfoWindow = function (options) {\n            return this._map.then(function () { return new google.maps.InfoWindow(options); });\n        };\n        /**\n         * Creates a google.map.Circle for the current map.\n         */\n        /**\n           * Creates a google.map.Circle for the current map.\n           */\n        GoogleMapsAPIWrapper.prototype.createCircle = /**\n           * Creates a google.map.Circle for the current map.\n           */\n        function (options) {\n            return this._map.then(function (map) {\n                options.map = map;\n                return new google.maps.Circle(options);\n            });\n        };\n        GoogleMapsAPIWrapper.prototype.createPolyline = function (options) {\n            return this.getNativeMap().then(function (map) {\n                var line = new google.maps.Polyline(options);\n                line.setMap(map);\n                return line;\n            });\n        };\n        GoogleMapsAPIWrapper.prototype.createPolygon = function (options) {\n            return this.getNativeMap().then(function (map) {\n                var polygon = new google.maps.Polygon(options);\n                polygon.setMap(map);\n                return polygon;\n            });\n        };\n        /**\n         * Creates a new google.map.Data layer for the current map\n         */\n        /**\n           * Creates a new google.map.Data layer for the current map\n           */\n        GoogleMapsAPIWrapper.prototype.createDataLayer = /**\n           * Creates a new google.map.Data layer for the current map\n           */\n        function (options) {\n            return this._map.then(function (m) {\n                var data = new google.maps.Data(options);\n                data.setMap(m);\n                return data;\n            });\n        };\n        /**\n         * Determines if given coordinates are insite a Polygon path.\n         */\n        /**\n           * Determines if given coordinates are insite a Polygon path.\n           */\n        GoogleMapsAPIWrapper.prototype.containsLocation = /**\n           * Determines if given coordinates are insite a Polygon path.\n           */\n        function (latLng, polygon) {\n            return google.maps.geometry.poly.containsLocation(latLng, polygon);\n        };\n        GoogleMapsAPIWrapper.prototype.subscribeToMapEvent = function (eventName) {\n            var _this = this;\n            return new rxjs.Observable(function (observer) {\n                _this._map.then(function (m) {\n                    m.addListener(eventName, function (arg) { _this._zone.run(function () { return observer.next(arg); }); });\n                });\n            });\n        };\n        GoogleMapsAPIWrapper.prototype.clearInstanceListeners = function () {\n            this._map.then(function (map) {\n                google.maps.event.clearInstanceListeners(map);\n            });\n        };\n        GoogleMapsAPIWrapper.prototype.setCenter = function (latLng) {\n            return this._map.then(function (map) { return map.setCenter(latLng); });\n        };\n        GoogleMapsAPIWrapper.prototype.getZoom = function () { return this._map.then(function (map) { return map.getZoom(); }); };\n        GoogleMapsAPIWrapper.prototype.getBounds = function () {\n            return this._map.then(function (map) { return map.getBounds(); });\n        };\n        GoogleMapsAPIWrapper.prototype.getMapTypeId = function () {\n            return this._map.then(function (map) { return map.getMapTypeId(); });\n        };\n        GoogleMapsAPIWrapper.prototype.setZoom = function (zoom) {\n            return this._map.then(function (map) { return map.setZoom(zoom); });\n        };\n        GoogleMapsAPIWrapper.prototype.getCenter = function () {\n            return this._map.then(function (map) { return map.getCenter(); });\n        };\n        GoogleMapsAPIWrapper.prototype.panTo = function (latLng) {\n            return this._map.then(function (map) { return map.panTo(latLng); });\n        };\n        GoogleMapsAPIWrapper.prototype.panBy = function (x, y) {\n            return this._map.then(function (map) { return map.panBy(x, y); });\n        };\n        GoogleMapsAPIWrapper.prototype.fitBounds = function (latLng) {\n            return this._map.then(function (map) { return map.fitBounds(latLng); });\n        };\n        GoogleMapsAPIWrapper.prototype.panToBounds = function (latLng) {\n            return this._map.then(function (map) { return map.panToBounds(latLng); });\n        };\n        /**\n         * Returns the native Google Maps Map instance. Be careful when using this instance directly.\n         */\n        /**\n           * Returns the native Google Maps Map instance. Be careful when using this instance directly.\n           */\n        GoogleMapsAPIWrapper.prototype.getNativeMap = /**\n           * Returns the native Google Maps Map instance. Be careful when using this instance directly.\n           */\n        function () { return this._map; };\n        /**\n         * Triggers the given event name on the map instance.\n         */\n        /**\n           * Triggers the given event name on the map instance.\n           */\n        GoogleMapsAPIWrapper.prototype.triggerMapEvent = /**\n           * Triggers the given event name on the map instance.\n           */\n        function (eventName) {\n            return this._map.then(function (m) { return google.maps.event.trigger(m, eventName); });\n        };\n        GoogleMapsAPIWrapper.decorators = [\n            { type: core.Injectable },\n        ];\n        /** @nocollapse */\n        GoogleMapsAPIWrapper.ctorParameters = function () { return [\n            { type: MapsAPILoader, },\n            { type: core.NgZone, },\n        ]; };\n        return GoogleMapsAPIWrapper;\n    }());\n\n    var WindowRef = /** @class */ (function () {\n        function WindowRef() {\n        }\n        WindowRef.prototype.getNativeWindow = function () { return window; };\n        return WindowRef;\n    }());\n    var DocumentRef = /** @class */ (function () {\n        function DocumentRef() {\n        }\n        DocumentRef.prototype.getNativeDocument = function () { return document; };\n        return DocumentRef;\n    }());\n\n    var __extends = (undefined && undefined.__extends) || (function () {\n        var extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return function (d, b) {\n            extendStatics(d, b);\n            function __() { this.constructor = d; }\n            d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n    })();\n    var GoogleMapsScriptProtocol;\n    (function (GoogleMapsScriptProtocol) {\n        GoogleMapsScriptProtocol[GoogleMapsScriptProtocol[\"HTTP\"] = 1] = \"HTTP\";\n        GoogleMapsScriptProtocol[GoogleMapsScriptProtocol[\"HTTPS\"] = 2] = \"HTTPS\";\n        GoogleMapsScriptProtocol[GoogleMapsScriptProtocol[\"AUTO\"] = 3] = \"AUTO\";\n    })(GoogleMapsScriptProtocol || (GoogleMapsScriptProtocol = {}));\n    /**\n     * Token for the config of the LazyMapsAPILoader. Please provide an object of type {@link\n     * LazyMapsAPILoaderConfig}.\n     */\n    var LAZY_MAPS_API_CONFIG = new core.InjectionToken('angular-google-maps LAZY_MAPS_API_CONFIG');\n    var LazyMapsAPILoader = /** @class */ (function (_super) {\n        __extends(LazyMapsAPILoader, _super);\n        function LazyMapsAPILoader(config, w, d) {\n            if (config === void 0) { config = null; }\n            var _this = _super.call(this) || this;\n            _this._SCRIPT_ID = 'agmGoogleMapsApiScript';\n            _this.callbackName = \"agmLazyMapsAPILoader\";\n            _this._config = config || {};\n            _this._windowRef = w;\n            _this._documentRef = d;\n            return _this;\n        }\n        LazyMapsAPILoader.prototype.load = function () {\n            var window = this._windowRef.getNativeWindow();\n            if (window.google && window.google.maps) {\n                // Google maps already loaded on the page.\n                return Promise.resolve();\n            }\n            if (this._scriptLoadingPromise) {\n                return this._scriptLoadingPromise;\n            }\n            // this can happen in HMR situations or Stackblitz.io editors.\n            var scriptOnPage = this._documentRef.getNativeDocument().getElementById(this._SCRIPT_ID);\n            if (scriptOnPage) {\n                this._assignScriptLoadingPromise(scriptOnPage);\n                return this._scriptLoadingPromise;\n            }\n            var script = this._documentRef.getNativeDocument().createElement('script');\n            script.type = 'text/javascript';\n            script.async = true;\n            script.defer = true;\n            script.id = this._SCRIPT_ID;\n            script.src = this._getScriptSrc(this.callbackName);\n            this._assignScriptLoadingPromise(script);\n            this._documentRef.getNativeDocument().body.appendChild(script);\n            return this._scriptLoadingPromise;\n        };\n        LazyMapsAPILoader.prototype._assignScriptLoadingPromise = function (scriptElem) {\n            var _this = this;\n            this._scriptLoadingPromise = new Promise(function (resolve, reject) {\n                _this._windowRef.getNativeWindow()[_this.callbackName] = function () {\n                    resolve();\n                };\n                scriptElem.onerror = function (error) {\n                    reject(error);\n                };\n            });\n        };\n        LazyMapsAPILoader.prototype._getScriptSrc = function (callbackName) {\n            var protocolType = (this._config && this._config.protocol) || GoogleMapsScriptProtocol.HTTPS;\n            var protocol;\n            switch (protocolType) {\n                case GoogleMapsScriptProtocol.AUTO:\n                    protocol = '';\n                    break;\n                case GoogleMapsScriptProtocol.HTTP:\n                    protocol = 'http:';\n                    break;\n                case GoogleMapsScriptProtocol.HTTPS:\n                    protocol = 'https:';\n                    break;\n            }\n            var hostAndPath = this._config.hostAndPath || 'maps.googleapis.com/maps/api/js';\n            var queryParams = {\n                v: this._config.apiVersion || '3',\n                callback: callbackName,\n                key: this._config.apiKey,\n                client: this._config.clientId,\n                channel: this._config.channel,\n                libraries: this._config.libraries,\n                region: this._config.region,\n                language: this._config.language\n            };\n            var params = Object.keys(queryParams)\n                .filter(function (k) { return queryParams[k] != null; })\n                .filter(function (k) {\n                // remove empty arrays\n                return !Array.isArray(queryParams[k]) ||\n                    (Array.isArray(queryParams[k]) && queryParams[k].length > 0);\n            })\n                .map(function (k) {\n                // join arrays as comma seperated strings\n                var i = queryParams[k];\n                if (Array.isArray(i)) {\n                    return { key: k, value: i.join(',') };\n                }\n                return { key: k, value: queryParams[k] };\n            })\n                .map(function (entry) {\n                return entry.key + \"=\" + entry.value;\n            })\n                .join('&');\n            return protocol + \"//\" + hostAndPath + \"?\" + params;\n        };\n        LazyMapsAPILoader.decorators = [\n            { type: core.Injectable },\n        ];\n        /** @nocollapse */\n        LazyMapsAPILoader.ctorParameters = function () { return [\n            { type: undefined, decorators: [{ type: core.Optional }, { type: core.Inject, args: [LAZY_MAPS_API_CONFIG,] },] },\n            { type: WindowRef, },\n            { type: DocumentRef, },\n        ]; };\n        return LazyMapsAPILoader;\n    }(MapsAPILoader));\n\n    /**\n     * When using the NoOpMapsAPILoader, the Google Maps API must be added to the page via a `<script>`\n     * Tag.\n     * It's important that the Google Maps API script gets loaded first on the page.\n     */\n\n    /**\n     * @fileoverview added by tsickle\n     * @suppress {checkTypes} checked by tsc\n     */\n    var AgmDirection = /** @class */ (function () {\n        function AgmDirection(gmapsApi) {\n            this.gmapsApi = gmapsApi;\n            this.travelMode = 'DRIVING';\n            this.transitOptions = undefined;\n            this.drivingOptions = undefined;\n            this.waypoints = [];\n            this.optimizeWaypoints = true;\n            this.provideRouteAlternatives = false;\n            this.avoidHighways = false;\n            this.avoidTolls = false;\n            this.visible = true;\n            // Direction change event handler\n            this.onChange = new core.EventEmitter();\n            // Direction response for the new request\n            this.onResponse = new core.EventEmitter();\n            this.sendInfoWindow = new core.EventEmitter();\n            this.directionsService = undefined;\n            this.directionsDisplay = undefined;\n            this.waypointsMarker = [];\n            this.isFirstChange = true;\n        }\n        /**\n         * @return {?}\n         */\n        AgmDirection.prototype.ngOnInit = /**\n         * @return {?}\n         */\n        function () {\n            if (this.visible === true) {\n                this.directionDraw();\n            }\n        };\n        /**\n         * @param {?} obj\n         * @return {?}\n         */\n        AgmDirection.prototype.ngOnChanges = /**\n         * @param {?} obj\n         * @return {?}\n         */\n        function (obj) {\n            /**\n                 * When visible is false then remove the direction layer\n                 */\n            if (!this.visible) {\n                try {\n                    if (typeof this.originMarker !== 'undefined') {\n                        this.originMarker.setMap(null);\n                        this.destinationMarker.setMap(null);\n                        this.waypointsMarker.forEach(function (w) { return w.setMap(null); });\n                    }\n                    this.directionsDisplay.setPanel(null);\n                    this.directionsDisplay.setMap(null);\n                    this.directionsDisplay = undefined;\n                }\n                catch (/** @type {?} */ e) { }\n            }\n            else {\n                if (this.isFirstChange) {\n                    /**\n                             * When visible is false at the first time\n                             */\n                    if (typeof this.directionsDisplay === 'undefined') {\n                        this.directionDraw();\n                    }\n                    this.isFirstChange = false;\n                    return;\n                }\n                /**\n                       * When renderOptions are not first change then reset the display\n                       */\n                if (typeof obj.renderOptions !== 'undefined') {\n                    if (obj.renderOptions.firstChange === false) {\n                        if (typeof this.originMarker !== 'undefined') {\n                            this.originMarker.setMap(null);\n                            this.destinationMarker.setMap(null);\n                            this.waypointsMarker.forEach(function (w) { return w.setMap(null); });\n                        }\n                        this.directionsDisplay.setPanel(null);\n                        this.directionsDisplay.setMap(null);\n                        this.directionsDisplay = undefined;\n                    }\n                }\n                this.directionDraw();\n            }\n        };\n        /**\n         * This event is fired when the user creating or updating this direction\n         * @return {?}\n         */\n        AgmDirection.prototype.directionDraw = /**\n         * This event is fired when the user creating or updating this direction\n         * @return {?}\n         */\n        function () {\n            var _this = this;\n            this.gmapsApi.getNativeMap().then(function (map) {\n                if (typeof _this.directionsDisplay === 'undefined') {\n                    _this.directionsDisplay = new google.maps.DirectionsRenderer(_this.renderOptions);\n                    _this.directionsDisplay.setMap(map);\n                    _this.directionsDisplay.addListener('directions_changed', function () {\n                        _this.onChange.emit(_this.directionsDisplay.getDirections());\n                    });\n                }\n                if (typeof _this.directionsService === 'undefined') {\n                    _this.directionsService = new google.maps.DirectionsService;\n                }\n                if (typeof _this.panel === 'undefined') {\n                    _this.directionsDisplay.setPanel(null);\n                }\n                else {\n                    _this.directionsDisplay.setPanel(_this.panel);\n                }\n                // Render exist direction\n                if (typeof _this.renderRoute === 'object' && _this.renderRoute !== null) {\n                    _this.directionsDisplay.setDirections(_this.renderRoute);\n                    _this.renderRoute = null; // or set undefined, ''\n                }\n                else {\n                    // Request new direction\n                    // Request new direction\n                    _this.directionsService.route({\n                        origin: _this.origin,\n                        destination: _this.destination,\n                        travelMode: _this.travelMode,\n                        transitOptions: _this.transitOptions,\n                        drivingOptions: _this.drivingOptions,\n                        waypoints: _this.waypoints,\n                        optimizeWaypoints: _this.optimizeWaypoints,\n                        provideRouteAlternatives: _this.provideRouteAlternatives,\n                        avoidHighways: _this.avoidHighways,\n                        avoidTolls: _this.avoidTolls,\n                    }, function (response, status) {\n                        _this.onResponse.emit(response);\n                        if (status === 'OK') {\n                            _this.directionsDisplay.setDirections(response);\n                            /**\n                                         * Emit The DirectionsResult Object\n                                         * https://developers.google.com/maps/documentation/javascript/directions?hl=en#DirectionsResults\n                                         */\n                            // Custom Markers\n                            if (typeof _this.markerOptions !== 'undefined') {\n                                // Remove origin markers\n                                try {\n                                    if (typeof _this.originMarker !== 'undefined') {\n                                        google.maps.event.clearListeners(_this.originMarker, 'click');\n                                        _this.originMarker.setMap(null);\n                                    }\n                                    if (typeof _this.destinationMarker !== 'undefined') {\n                                        google.maps.event.clearListeners(_this.destinationMarker, 'click');\n                                        _this.destinationMarker.setMap(null);\n                                    }\n                                    _this.waypointsMarker.forEach(function (w) {\n                                        if (typeof w !== 'undefined') {\n                                            google.maps.event.clearListeners(w, 'click');\n                                            w.setMap(null);\n                                        }\n                                    });\n                                }\n                                catch (/** @type {?} */ err) {\n                                    console.error('Can not reset custom marker.', err);\n                                }\n                                // Set custom markers\n                                var /** @type {?} */ _route_1 = response.routes[0].legs[0];\n                                try {\n                                    // Origin Marker\n                                    if (typeof _this.markerOptions.origin !== 'undefined') {\n                                        _this.markerOptions.origin.map = map;\n                                        _this.markerOptions.origin.position = _route_1.start_location;\n                                        _this.originMarker = _this.setMarker(map, _this.originMarker, _this.markerOptions.origin, _route_1.start_address);\n                                    }\n                                    // Destination Marker\n                                    if (typeof _this.markerOptions.destination !== 'undefined') {\n                                        _this.markerOptions.destination.map = map;\n                                        _this.markerOptions.destination.position = _route_1.end_location;\n                                        _this.destinationMarker = _this.setMarker(map, _this.destinationMarker, _this.markerOptions.destination, _route_1.end_address);\n                                    }\n                                    // Waypoints Marker\n                                    if (typeof _this.markerOptions.waypoints !== 'undefined') {\n                                        _this.waypoints.forEach(function (waypoint, index) {\n                                            // If waypoints are not array then set all the same\n                                            if (!Array.isArray(_this.markerOptions.waypoints)) {\n                                                _this.markerOptions.waypoints.map = map;\n                                                _this.markerOptions.waypoints.position = _route_1.via_waypoints[index];\n                                                _this.waypointsMarker.push(_this.setMarker(map, waypoint, _this.markerOptions.waypoints, _route_1.via_waypoints[index]));\n                                            }\n                                            else {\n                                                _this.markerOptions.waypoints[index].map = map;\n                                                _this.markerOptions.waypoints[index].position = _route_1.via_waypoints[index];\n                                                _this.waypointsMarker.push(_this.setMarker(map, waypoint, _this.markerOptions.waypoints[index], _route_1.via_waypoints[index]));\n                                            }\n                                        }); // End forEach\n                                    }\n                                }\n                                catch (/** @type {?} */ err) {\n                                    console.error('MarkerOptions error.', err);\n                                }\n                            }\n                        }\n                    });\n                }\n            });\n        };\n        /**\n         * Custom Origin and Destination Icon\n         * \\@memberof AgmDirection\n         * @param {?} map map\n         * @param {?} marker marker\n         * @param {?} markerOpts properties\n         * @param {?} content marker's infowindow content\n         * @return {?} new marker\n         */\n        AgmDirection.prototype.setMarker = /**\n         * Custom Origin and Destination Icon\n         * \\@memberof AgmDirection\n         * @param {?} map map\n         * @param {?} marker marker\n         * @param {?} markerOpts properties\n         * @param {?} content marker's infowindow content\n         * @return {?} new marker\n         */\n        function (map, marker, markerOpts, content) {\n            var _this = this;\n            if (typeof this.infoWindow === 'undefined') {\n                this.infoWindow = new google.maps.InfoWindow({});\n                this.sendInfoWindow.emit(this.infoWindow);\n            }\n            marker = new google.maps.Marker(markerOpts);\n            marker.addListener('click', function () {\n                var /** @type {?} */ infowindoContent = typeof markerOpts.infoWindow === 'undefined' ? content : markerOpts.infoWindow;\n                _this.infoWindow.setContent(infowindoContent);\n                _this.infoWindow.open(map, marker);\n            });\n            return marker;\n        };\n        AgmDirection.decorators = [\n            { type: core.Directive, args: [{\n                        selector: 'agm-direction',\n                    },] }\n        ];\n        /** @nocollapse */\n        AgmDirection.ctorParameters = function () { return [\n            { type: GoogleMapsAPIWrapper, },\n        ]; };\n        AgmDirection.propDecorators = {\n            \"origin\": [{ type: core.Input },],\n            \"destination\": [{ type: core.Input },],\n            \"travelMode\": [{ type: core.Input },],\n            \"transitOptions\": [{ type: core.Input },],\n            \"drivingOptions\": [{ type: core.Input },],\n            \"waypoints\": [{ type: core.Input },],\n            \"optimizeWaypoints\": [{ type: core.Input },],\n            \"provideRouteAlternatives\": [{ type: core.Input },],\n            \"avoidHighways\": [{ type: core.Input },],\n            \"avoidTolls\": [{ type: core.Input },],\n            \"renderOptions\": [{ type: core.Input },],\n            \"visible\": [{ type: core.Input },],\n            \"panel\": [{ type: core.Input },],\n            \"markerOptions\": [{ type: core.Input },],\n            \"infoWindow\": [{ type: core.Input },],\n            \"renderRoute\": [{ type: core.Input },],\n            \"onChange\": [{ type: core.Output },],\n            \"onResponse\": [{ type: core.Output },],\n            \"sendInfoWindow\": [{ type: core.Output },],\n        };\n        return AgmDirection;\n    }());\n\n    /**\n     * @fileoverview added by tsickle\n     * @suppress {checkTypes} checked by tsc\n     */\n    var AgmDirectionModule = /** @class */ (function () {\n        function AgmDirectionModule() {\n        }\n        /**\n         * @return {?}\n         */\n        AgmDirectionModule.forRoot = /**\n         * @return {?}\n         */\n        function () {\n            return {\n                ngModule: AgmDirectionModule,\n            };\n        };\n        AgmDirectionModule.decorators = [\n            { type: core.NgModule, args: [{\n                        imports: [],\n                        declarations: [\n                            AgmDirection,\n                        ],\n                        exports: [\n                            AgmDirection,\n                        ]\n                    },] }\n        ];\n        return AgmDirectionModule;\n    }());\n\n    exports.AgmDirectionModule = AgmDirectionModule;\n    exports.ɵa = AgmDirection;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=agm-direction.umd.js.map\n"]}